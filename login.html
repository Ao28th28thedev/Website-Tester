<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prodigy Insider - Login</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Login</h1>
        <nav>
            <a href="index.html">Home</a>
            <a href="play.html">Play Now!</a>
            <a href="login.html">Login</a>
            <a href="signup.html">Sign Up</a>
        </nav>
    </header>

    <main id="content">
        <section>
            <h2>Log in with Google</h2>
            <button id="loginBtn">Login with Google</button>
            <p id="loginMessage"></p>
        </section>
    </main>

    <footer>
        <p></p>
    </footer>

    <!-- Firebase App (the core Firebase SDK) -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js';

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyCLTCdWLmOfE_QrR13Z15VjRn2gTh4BvPo",
          authDomain: "triple-bird-410810.firebaseapp.com",
          projectId: "triple-bird-410810",
          storageBucket: "triple-bird-410810.appspot.com",
          messagingSenderId: "220442635630",
          appId: "1:220442635630:web:87ea71a698d7195c3d657f"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Initialize Firebase Authentication
        const auth = firebase.auth();

        // Google Sign-In Provider
        const provider = new firebase.auth.GoogleAuthProvider();

        document.getElementById('loginBtn').addEventListener('click', () => {
            auth.signInWithPopup(provider)
                .then((result) => {
                    // User signed in
                    const user = result.user;
                    localStorage.setItem('loggedInUser', user.displayName); // Save user info
                    window.location.href = 'index.html'; // Redirect to homepage
                })
                .catch((error) => {
                    // Handle Errors
                    console.error(error.message);
                    document.getElementById('loginMessage').textContent = 'Login failed. Please try again.';
                });
        });
    </script>
</body>
</html>
